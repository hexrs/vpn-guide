# VPN å®‰è£…ä¸é…ç½®æŒ‡å—
**æç¤ºï¼šå¦‚æœçœ‹å®Œåè¿˜æ˜¯è§‰å¾—éš¾ä»¥ç†è§£ï¼Œå¯ä»¥æŠŠè¿™ç¯‡æ–‡ç« åœ°å€å¤åˆ¶ç²˜è´´åˆ° AI èŠå¤©å·¥å…·å¦‚ ChatGPT,Gemini,Claude ç­‰åº”ç”¨ä¸­ï¼Œè®© AI æ ¹æ®æ–‡æ¡£ä¸­çš„å†…å®¹æŒ‡å¯¼ä½ ä¸€æ­¥æ­¥æ“ä½œã€‚**
## ä¸ºä»€ä¹ˆè¦åˆ›å»ºè¿™ä¸ªæ–‡æ¡£ï¼Ÿ

é•¿æœŸä»¥æ¥ï¼Œéä¸“ä¸šç”¨æˆ·åœ¨å®‰è£…å’Œé…ç½® VPN æœåŠ¡æ—¶å¸¸å¸¸é¢ä¸´è¾ƒå¤§å›°éš¾ï¼Œå› æ­¤è®¸å¤šäººä¼šé€‰æ‹©è´­ä¹°ç°æˆçš„ VPN æœåŠ¡ï¼Œæˆ–ä¾èµ– Web é¢æ¿ä¸ç¬¬ä¸‰æ–¹ Shell è„šæœ¬æ¥å®ç°å¿«é€Ÿå®‰è£…ã€‚
ç„¶è€Œï¼Œå·¥å…·é“¾ä¾èµ–è¶Šå¤šï¼Œæ½œåœ¨çš„å®‰å…¨æ¼æ´ä¹Ÿè¶Šå¤šã€‚ç›´æ¥é€šè¿‡å®˜æ–¹æ¸ é“å®‰è£…è½¯ä»¶ï¼Œç›¸å¯¹æ¥è¯´æ›´å®‰å…¨å¯é ã€‚

æœ¬æ–‡æ¡£æ—¨åœ¨**æ•™ä¼šç”¨æˆ·å¦‚ä½•ä»å®˜æ–¹æ¸ é“å®‰è£…å’Œé…ç½® VPN æœåŠ¡**ï¼Œé¿å…ä½¿ç”¨ç¬¬ä¸‰æ–¹è„šæœ¬å’Œ Web é¢æ¿ï¼Œä»è€Œæå‡å®‰å…¨æ€§ã€‚

å³ä¾¿ä½ æ²¡æœ‰ç›¸å…³ç»éªŒï¼Œåªä¼šåŸºæœ¬çš„ç”µè„‘æ“ä½œï¼Œåªè¦è®¤çœŸé˜…è¯»æœ¬æ•™ç¨‹ï¼Œä¹Ÿèƒ½å¤ŸæˆåŠŸå®Œæˆ VPN çš„æ­å»ºä¸é…ç½®ã€‚

VPN æœåŠ¡ç”± **æœåŠ¡ç«¯** ä¸ **å®¢æˆ·ç«¯** æ„æˆï¼š

* **æœåŠ¡ç«¯**ï¼šåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œçš„è½¯ä»¶ï¼Œä¹Ÿæ˜¯æ•™ç¨‹ä¸­ä¸»è¦è®²è§£çš„éƒ¨åˆ†ï¼Œä½ å¯ä»¥ç†è§£æˆä¸€ä¸ªæµé‡è½¬å‘å·¥å…·ï¼Œä½ åœ¨è®¿é—® YouTube æ—¶ï¼Œä½ ä¼šå…ˆå’ŒæœåŠ¡å™¨ä¸Šçš„æµé‡è½¬å‘å·¥å…·å»ºç«‹åŠ å¯†è¿æ¥ã€‚
* **å®¢æˆ·ç«¯**ï¼šåœ¨ä¸ªäººè®¾å¤‡ï¼ˆç”µè„‘ã€æ‰‹æœºç­‰ï¼‰ä¸Šè¿è¡Œï¼Œé€šè¿‡ç½‘ç»œè¿æ¥åˆ°æœåŠ¡ç«¯ï¼Œå®ç°åŠ å¯†æ•°æ®ä¼ è¾“ä¸éšç§ä¿æŠ¤ã€‚

---

## ä¸€ã€æœåŠ¡å™¨çš„é€‰æ‹©

æœåŠ¡å™¨å‚å•†æä¾›å¤šç§ç±»å‹çš„äº§å“ï¼ˆå¦‚ Dockerã€å‡½æ•°è®¡ç®—ç¯å¢ƒç­‰ï¼‰ï¼Œä½†ä¸ºæ–¹ä¾¿é…ç½® VPN å’Œä»˜æ¬¾æ–¹ä¾¿ï¼Œæ¨èé€‰æ‹©æ™®é€šå‚å•†æä¾›çš„ **VPSï¼ˆè™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨ï¼‰**ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© VPS

* æ‹¥æœ‰ç‹¬ç«‹æ“ä½œç³»ç»Ÿå’Œå®Œæ•´æƒé™ï¼Œçµæ´»åº¦é«˜ã€‚
* äº‘è®¡ç®—å‚å•†ï¼ˆAWSã€Google Cloudã€Azure ç­‰ï¼‰çš„ç½‘ç»œçº¿è·¯ä»ä¸­å›½è®¿é—®å¹¶éæœ€ä½³ï¼Œä¸”å¯¹äºä¸­å›½ç”¨æˆ·æ¥è¯´ä»˜æ¬¾ä¸æ–¹ä¾¿ã€‚
* å¯¹äºä¸ªäººç”¨æˆ·ï¼Œæ™®é€š VPS æœåŠ¡å•†å³å¯æ»¡è¶³éœ€æ±‚ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†éƒ½æ”¯æŒæ— éœ€ä¿¡ç”¨å¡è´­ä¹°ã€‚
* éƒ¨åˆ†å•†å®¶è¿˜ä¼šé’ˆå¯¹ VPN éƒ¨ç½²çš„è¿›è¡Œ VPS é…ç½®ä¼˜åŒ–ï¼Œæ¯”å¦‚æä¾›æ›´å°çš„ç¡¬ç›˜ç©ºé—´ï¼Œæ›´å¤§çš„æµé‡æ¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚

### VPS è´­ä¹°ç»éªŒ

1. **å£ç¢‘ä¸æˆç«‹æ—¶é—´**ï¼šé€šè¿‡ Google æœç´¢äº†è§£ã€‚
2. **é…ç½®ä¸æµé‡**ï¼šå¸¸è§é…ç½®å¦‚ 1 æ ¸ CPUã€1GB å†…å­˜ã€500GB æµé‡æ¯æœˆã€100M å¸¦å®½ï¼Œè¶³ä»¥æ”¯æ’‘å•äººé•¿æœŸä½¿ç”¨ã€‚ä»·æ ¼çº¦ 30â€“50 ç¾å…ƒ/å¹´ã€‚
3. **ç½‘ç»œçº¿è·¯**ï¼š
   * å› ä¸­å›½ç‹¬ç‰¹çš„ç½‘ç»œç¯å¢ƒï¼Œæ™®é€šçº¿è·¯è®¿é—®é€Ÿåº¦å¯èƒ½è¾ƒæ…¢ã€‚
   * æ¨èé€‰æ‹©æ”¯æŒ **CN2ã€CMIã€CNC2** ç­‰ä¸‹ä¸€ä»£äº’è”ç½‘éª¨å¹²ç½‘ç»œçš„ VPSï¼Œå»¶è¿Ÿä½ã€ä¸¢åŒ…ç‡ä½ã€å¸¦å®½åˆ©ç”¨ç‡é«˜ã€‚
4. **æµ‹é€Ÿ**ï¼š
   * å‘å•†å®¶ç´¢è¦æµ‹é€Ÿé“¾æ¥æˆ–ä»å®˜æ–¹ç½‘ç«™æŸ¥æ‰¾ï¼Œä¸€èˆ¬éƒ½ä¼šæä¾›ï¼ˆå¦‚ `http://1.1.1.1/100MB.test`ï¼‰ã€‚
   * é€šè¿‡æµè§ˆå™¨ä¸‹è½½æµ‹è¯•é€Ÿåº¦ï¼Œä¾‹å¦‚ 100M å¸¦å®½åº”å½“è¾¾åˆ° 10MB/s å·¦å³ã€‚
   * è‹¥è¿œä½äºæ ‡ç§°é€Ÿç‡ï¼Œå»ºè®®æ›´æ¢ VPSã€‚

> å»ºè®®é¦–æ¬¡è´­ä¹°æ—¶é€‰æ‹© **æœˆä»˜**ï¼Œç¡®è®¤ç¨³å®šåå†ç»­è´¹é•¿æœŸå¥—é¤ã€‚

---

## äºŒã€æ“ä½œç³»ç»Ÿçš„é€‰æ‹©

æ¨èä½¿ç”¨ **Ubuntu Server LTS æœ€æ–°ç‰ˆæœ¬**ï¼ˆå¦‚ 24.04ï¼‰ã€‚

* Ubuntu æä¾›ç¨³å®šçš„é•¿æœŸæ”¯æŒä¸”å‡ ä¹æ‰€æœ‰çš„VPSå‚å®¶éƒ½æ”¯æŒè¯¥ç³»ç»Ÿã€‚
* å¼€ç®±å³ç”¨ï¼Œæ— éœ€æŠ˜è…¾ã€‚
* æ–‡æ¡£ä¸­è½¯ä»¶å®‰è£…å‡åŸºäº `apt` åŒ…ç®¡ç†å™¨ï¼ŒDebian åŠå…¶è¡ç”Ÿç‰ˆåŒæ ·é€‚ç”¨ã€‚
* è´­ä¹° VPS æ—¶é€šå¸¸å¯ç›´æ¥é€‰æ‹©æ“ä½œç³»ç»Ÿï¼Œå¦‚æœªé€‰æ‹©ï¼Œå¯åœ¨æ§åˆ¶å°é‡æ–°å®‰è£…ã€‚

è´­ä¹°æˆåŠŸåï¼Œå‚å•†ä¼šæä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

* **IP åœ°å€**
* **ç”¨æˆ·å**
* **å¯†ç **
* **ç«¯å£å·**ï¼ˆå¦‚æœå•†å®¶æ²¡æœ‰æä¾›ï¼Œé»˜è®¤ä½¿ç”¨22ï¼Œåªæœ‰æå°‘æ•°å•†å®¶ä¼šæŒ‡å®šä¸€ä¸ªéšæœºçš„ç«¯å£å·ï¼Œå¦‚ Bandwagonhostï¼‰

---

## ä¸‰ã€æœåŠ¡å™¨ç™»å½•

ç™»å½• VPS éœ€ä½¿ç”¨ **SSH å®¢æˆ·ç«¯**ã€‚ä»¥ä¸‹åˆ†åˆ«ä»‹ç» macOS ä¸ Windows çš„æ–¹æ³•ã€‚

### macOS

1. æ‰“å¼€ **ç»ˆç«¯**ï¼ˆSpotlight è¾“å…¥ `ç»ˆç«¯`ï¼‰ã€‚
2. è¾“å…¥å‘½ä»¤ï¼š

   ```bash
   ssh root@1.1.1.1 #1.1.1.1 æ›¿æ¢æˆä½ çš„æœåŠ¡å™¨IP
   ```
3. è¾“å…¥å¯†ç ï¼ˆè¾“å…¥æ—¶æ— æ˜¾ç¤ºï¼Œå¯ç²˜è´´ï¼‰ã€‚
4. è‹¥ VPS æä¾›äº†è‡ªå®šä¹‰ç«¯å£ï¼ˆå¦‚ 2222ï¼‰ï¼Œéœ€ä½¿ç”¨ï¼š

   ```bash
   ssh root@1.1.1.1 -p 2222
   ```

### Windows

* **Windows 10/11**ï¼šå†…ç½® SSH å®¢æˆ·ç«¯ï¼Œå¯ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œï¼ˆCMD/PowerShellï¼‰ç™»å½•ï¼Œç«¯å£å·çš„æŒ‡å®šæ–¹æ³•å’Œ macOS ä¸€è‡´ï¼š

  ```bash
  ssh root@1.1.1.1
  ```
* **æ—§ç‰ˆæœ¬ Windows**ï¼šéœ€å®‰è£… PuTTYï¼ˆ[ä¸‹è½½åœ°å€](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)ï¼‰ï¼Œä½¿ç”¨æ–¹æ³•å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚

---

## å››ã€Ubuntu ç³»ç»ŸåŸºç¡€è®¾ç½®ï¼ˆå¯é€‰ï¼‰

ä¸åŒå‚å•†çš„ Ubuntu é…ç½®å¯èƒ½å­˜åœ¨å·®å¼‚ï¼Œå»ºè®®ç»Ÿä¸€è¿›è¡Œä»¥ä¸‹è®¾ç½®ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´ã€‚

åœ¨ç»ˆç«¯ä¸­é€è¡Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆæ³¨é‡Šéƒ¨åˆ†ä»…ä½œè¯´æ˜ï¼Œæ— éœ€è¾“å…¥ï¼‰ï¼š

```bash
# 1. æ›´æ–°ç³»ç»Ÿè½¯ä»¶
sudo apt update && sudo apt upgrade -y

# 2. è®¾ç½®æ—¶åŒºä¸æ—¶é—´åŒæ­¥
sudo timedatectl set-timezone Asia/Shanghai
sudo timedatectl set-ntp true
timedatectl   # æŸ¥çœ‹æ—¶é—´

# 3. é…ç½®é˜²ç«å¢™
sudo apt install ufw   # è‹¥æœªå®‰è£… ufw
sudo ufw enable        # å¯ç”¨é˜²ç«å¢™
sudo ufw allow 22      # æ”¾è¡Œ SSH ç«¯å£
sudo ufw allow 443     # æ”¾è¡Œ HTTPS ç«¯å£
sudo ufw allow 0-65535 # æŒ‰éœ€æ”¾è¡Œå…¶ä»–ç«¯å£ï¼Œä¾‹å¦‚ 2222
sudo ufw status        # æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
```

> è‹¥å®‰è£…è½¯ä»¶é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯æ›´æ¢è½¯ä»¶æºã€‚æŸäº› VPS å¯èƒ½ä¼šä½¿ç”¨è¿œè·ç¦»é•œåƒï¼ˆå¦‚ç¾å›½æœåŠ¡å™¨ä½¿ç”¨å¾·å›½æºï¼‰ï¼Œä¼šå¯¼è‡´é€Ÿåº¦ç¼“æ…¢ã€‚

---

## äº”ã€æœåŠ¡ç«¯è½¯ä»¶é€‰æ‹©

ä¼ ç»Ÿ VPN åè®®ï¼ˆPPTPã€IPSec ç­‰ï¼‰å·²ä¸å†æ¨èã€‚
ç°ä»£æŠ—å®¡æŸ¥ VPN æŠ€æœ¯ä¸æ–­æ¼”è¿›ï¼Œåº”é€‰æ‹© **å¼€æºã€ç¤¾åŒºæ´»è·ƒ**çš„è½¯ä»¶ã€‚
ä¸ç”¨æ‹…å¿ƒé…ç½®è¿‡äºå¤æ‚ï¼Œå°±æ˜¯ä¿®æ”¹ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„äº‹ã€‚ä½ æŠŠé‚£äº›é¢æ¿å’ŒSHELLè„šæœ¬çš„åŠŸèƒ½ç†è§£æˆåœ¨ç”¨å¯è§†åŒ–çš„æ–¹å¼åœ¨åˆ›å»ºä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘å¦‚æœç›´æ¥ç»™ä½ é…ç½®æ–‡ä»¶çš„æ¨¡ç‰ˆï¼Œä½ åªéœ€è¦ä¿®æ”¹å‡ ä¸ªå‚æ•°ï¼Œç„¶åä¿å­˜å³å¯ï¼Œè¿™æ ·ä¸æ˜¯æ›´ç®€å•å—ã€‚

ä»¥ä¸‹ä¸ºä¸»æµé€‰é¡¹ï¼š

### 1. Xray

* **ä¼˜ç‚¹**ï¼šç¨³å®šï¼Œæ”¯æŒå¤šç§ä¼ è¾“åè®®
* **ç¼ºç‚¹**ï¼šé…ç½®ç›¸å¯¹å¤æ‚
* [å®‰è£…é…ç½®æŒ‡å—](#xray)

### 2. Hysteria2

* **ä¼˜ç‚¹**ï¼šé…ç½®ç®€å•ï¼Œé«˜æ€§èƒ½ï¼Œå¸¦å®½åˆ©ç”¨ç‡é«˜
* **ç¼ºç‚¹**ï¼šéƒ¨åˆ†åœ°åŒºå¯èƒ½é™åˆ¶ UDP ç«¯å£ï¼Œå¯¼è‡´ä¸ç¨³å®š
* [å®‰è£…é…ç½®æŒ‡å—](#hysteria2)

---

## å…­ã€å®¢æˆ·ç«¯é€‰æ‹©

å®¢æˆ·ç«¯æ˜¯è¿è¡Œåœ¨ç»ˆç«¯è®¾å¤‡ä¸Šçš„è½¯ä»¶ï¼Œç”¨äºè¿æ¥ VPN æœåŠ¡å™¨ã€‚

### iOS / macOS

* **Shadowrocket**ï¼ˆæ”¶è´¹ï¼‰
  [ä¸‹è½½åœ°å€](https://apps.apple.com/us/app/shadowrocket/id932747118)
* **Hiddify**
  [ä¸‹è½½åœ°å€](https://apps.apple.com/us/app/hiddify-proxy-vpn/id6596777532)
* **Streisand**
  [ä¸‹è½½åœ°å€](https://apps.apple.com/us/app/streisand/id6450534064)

> æ³¨æ„ï¼š
>
> * macOS Intel èŠ¯ç‰‡å¯ä½¿ç”¨ v2rayNï¼ˆmacOS ç‰ˆæœ¬ï¼‰ã€‚
> * macOS M ç³»åˆ—èŠ¯ç‰‡å¯ç›´æ¥å®‰è£… iOS åº”ç”¨ã€‚

### Windows

* **v2rayN**ï¼ˆä¸»æµå¼€æºå®¢æˆ·ç«¯ï¼Œæ”¯æŒ Windowsï¼ŒmacOSï¼ŒLinuxï¼‰
  [ä¸‹è½½åœ°å€](https://github.com/2dust/v2rayN)

### Android

* **NekoBox**ï¼ˆå¼€æºå…è´¹ï¼‰
  [ä¸‹è½½åœ°å€](https://github.com/MatsuriDayo/NekoBoxForAndroid)

> æ³¨æ„ï¼šä»…ä» GitHub å®˜æ–¹ä»“åº“ä¸‹è½½ï¼Œä½œè€…å·²ç»å£°æ˜åº”ç”¨å•†åº—ä¸­éå®˜æ–¹ç‰ˆæœ¬ã€‚
---
## æœåŠ¡ç«¯å®‰è£…ä¸é…ç½®

å¦‚æœä½ å·²ç»å­¦ä¼šå¦‚ä½•ä½¿ç”¨SSHï¼Œå¹¶ä¸”å·²ç»å‡†å¤‡å¥½äº†æœåŠ¡å™¨ï¼Œå¯ä»¥è·³åˆ°è¿™é‡Œã€‚é€‰æ‹©å…¶ä¸­ä¸€ä¸ªå®‰è£…å³å¯ã€‚


### Xray

[Xray å®˜æ–¹æ–‡æ¡£åœ°å€](https://github.com/XTLS/Xray-install/blob/main/README_zh-Hans.md)

---

#### å®‰è£…

å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤åˆ°æœåŠ¡å™¨ç»ˆç«¯æ‰§è¡Œå³å¯ï¼š

```bash
bash -c "$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)" @ install
````

---

#### é…ç½®æ–‡ä»¶

å®‰è£…å®Œæˆåï¼Œç¼–è¾‘ `/usr/local/etc/xray/config.json`
è¯¥æ–‡ä»¶ä¸º Xray çš„é…ç½®æ–‡ä»¶ã€‚

* å¦‚æœä¸ä¼šåœ¨ç»ˆç«¯ä¸­ä¿®æ”¹ï¼Œå¯ä»¥æœç´¢ `vi` æˆ– `nano` çš„ä½¿ç”¨æ–¹æ³•ã€‚
* æ›´ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ **SFTP å®¢æˆ·ç«¯**ï¼ˆå¦‚ Windows ä¸Šçš„ WinSCPã€macOS ä¸Šçš„ Cyberduck ç­‰ï¼‰ã€‚
* ä½¿ç”¨ SFTP ç™»å½•æœåŠ¡å™¨åï¼Œè¿›å…¥ `/usr/local/etc/xray/`ï¼Œæ‰¾åˆ° `config.json`ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ä¿®æ”¹å³å¯ã€‚

---

#### å¿…è¦ä¿®æ”¹é¡¹

1. è·å– UUID

   ```bash
   xray uuid
   ```

   ç¤ºä¾‹è¾“å‡ºï¼š

   ```
   b99f9345-6ffd-436c-a57c-8b9a02ce5c9f
   ```

2. ç”Ÿæˆå…¬é’¥å’Œç§é’¥

   ```bash
   xray x25519
   ```

   ç¤ºä¾‹è¾“å‡ºï¼š

   ```
   publicKey:  7f3da9c4e26b42a1a91d8f84b2c0e7d1e98
   privateKey: 1c9e8a6f34bd71d2294cf0a9f0aef62a24e
   ```

3. ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­å¯¹åº”å­—æ®µï¼š

   * **ç¬¬ 30 è¡Œ `id`** â†’ æ›¿æ¢ä¸ºä¸Šé¢è·å–çš„ `UUID`
   * **ç¬¬ 45 è¡Œ `privateKey`** â†’ æ›¿æ¢ä¸ºä¸Šé¢è·å–çš„ `privateKey`ï¼ˆæ³¨æ„ä¸æ˜¯ `publicKey`ï¼‰

é™¤ä»¥ä¸Šä¸¤å¤„å¤–ï¼Œå…¶ä½™é…ç½®ä¿æŒé»˜è®¤ï¼Œé¿å…å‡ºé”™ã€‚

é…ç½®æ–‡ä»¶ç¤ºä¾‹æ¥è‡ªå®˜æ–¹ä»“åº“ï¼š
ğŸ‘‰ [Xray-examples](https://github.com/XTLS/Xray-examples)

```json
{
    "log": {
        "loglevel": "debug"
    },
    "inbounds": [
        {
            "tag": "dokodemo-in",
            "port": 443,
            "protocol": "dokodemo-door",
            "settings": {
                "address": "127.0.0.1",
                "port": 4431,  // æŒ‡å‘å†…ç½‘ä¸­çš„ reality ç«¯å£ï¼Œç¤ºä¾‹æ˜¯è¿™ä¸ªç«¯å£ï¼Œå¦‚æœè¦è‡ªå·±ä¿®æ”¹äº†è®°å¾—è¿™é‡Œå’Œä¸‹é¢çš„ reality å…¥ç«™éƒ½è¦ä¿®æ”¹
                "network": "tcp"
            },
            "sniffing": { // è¿™é‡Œçš„ sniffing ä¸æ˜¯å¤šä½™çš„ï¼Œåˆ«ä¹±åŠ¨
                "enabled": true,
                "destOverride": [
                    "tls"
                ],
                "routeOnly": true
            }
        },
        {
            "listen": "127.0.0.1",
            "port": 4431, // è§ä¸Š å¦‚æœå’Œå…¶ä»–æœåŠ¡å†²çªäº†å¯ä»¥æ¢
            "protocol": "vless",
            "settings": {
                "clients": [
                    {
                        "id": "" // è¿è¡Œ xray uuid ç”ŸæˆUUID
                    }
                ],
                "decryption": "none"
            },
            "streamSettings": {
                "network": "tcp",
                "security": "reality",
                "realitySettings": {
                    // ä¸‹æ–¹è¦æ±‚å’Œæ™®é€š reality ä¸€è‡´ï¼Œè¿™é‡Œæ¼”ç¤º dest è®¾ç½®ä¸º cloudflare ä¸è¢«å·è·‘æµé‡æ‰€ä»¥è®¾ç½®ä¸º speed.cloudflare.com äº†
                    // ä½ å¯ä»¥è®¾ç½®ä¸ºå…¶ä»– CF ç½‘ç«™ï¼Œå¦‚æœä½ çš„ dest ä¸æ˜¯è¿™ç§ç½‘ç«™ä½ ä¹Ÿä¸ç”¨ç‚¹äº†è¿›æ¥ä¸æ˜¯å—
                    "dest": "speed.cloudflare.com:443",
                    "serverNames": [
                        "speed.cloudflare.com"
                    ],
                    "privateKey": "", // è¿è¡Œ `xray x25519` ç”Ÿæˆ
                    "shortIds": [
                        "",
                        "0123456789abcdef"
                    ]
                }
            },
            "sniffing": {
                "enabled": true,
                "destOverride": [
                    "http",
                    "tls",
                    "quic"
                ],
                "routeOnly": true
            }
        }
    ],
    "outbounds": [
        {
            "protocol": "freedom",
            "tag": "direct"
        },
        {
            "protocol": "blackhole",
            "tag": "block"
        }
    ],
    "routing": {
        "rules": [
            {
                "inboundTag": [
                    "dokodemo-in"
                ],
                // é‡è¦ï¼Œè¿™ä¸ªåŸŸååˆ—è¡¨éœ€è¦å’Œ realitySettings çš„ serverNames ä¿æŒä¸€è‡´
                "domain": [
                    "speed.cloudflare.com"
                ],
                "outboundTag": "direct"
            },
            {
                "inboundTag": [
                    "dokodemo-in"
                ],
                "outboundTag": "block"
            }
        ]
    }
}
```

---

#### å¯åŠ¨ä¸ç®¡ç†

ä½¿ç”¨ `systemctl` æ§åˆ¶ Xrayï¼š

```bash
sudo systemctl start xray      # å¯åŠ¨
sudo systemctl enable xray     # åŠ å…¥å¼€æœºå¯åŠ¨
sudo systemctl stop xray       # åœæ­¢
sudo systemctl restart xray    # é‡å¯
sudo systemctl status xray     # æŸ¥çœ‹çŠ¶æ€
```
---
#### å®¢æˆ·ç«¯è¿æ¥è¯´æ˜

åœ¨å®¢æˆ·ç«¯é…ç½®è¿æ¥æ—¶ï¼Œè¯·å‡†å¤‡ä»¥ä¸‹ä¿¡æ¯ï¼š

* **åè®®**ï¼šVLESS
* **æœåŠ¡å™¨ IP åœ°å€**ï¼šä½ çš„æœåŠ¡å™¨ IP
* **ç«¯å£**ï¼š443
* **UUID**ï¼šä¸é…ç½®æ–‡ä»¶ä¸­ä¿æŒä¸€è‡´
* **SNI**ï¼š`speed.cloudflare.com`
* **Public Key**ï¼šä¹‹å‰ç”Ÿæˆçš„å…¬é’¥
* **Short ID**ï¼šä¸é…ç½®æ–‡ä»¶ä¸­ä¿æŒä¸€è‡´
* **ä¼ è¾“æ–¹å¼**ï¼šTCP
* **å®‰å…¨åè®®**ï¼š

  * å¦‚æœå®¢æˆ·ç«¯æ”¯æŒ **Reality**ï¼Œè¯·å‹¾é€‰
  * å¦‚æœæ²¡æœ‰ Reality é€‰é¡¹ï¼Œè¯·é€‰æ‹© **TLS**

##### æ³¨æ„äº‹é¡¹

* ä¸åŒå®¢æˆ·ç«¯çš„æ“ä½œç•Œé¢å¯èƒ½æœ‰æ‰€å·®å¼‚ï¼Œæ— æ³•æä¾›ç»Ÿä¸€çš„é…ç½®æ ·æ¿ã€‚
* åªéœ€å°†ä¸Šè¿°ä¿¡æ¯å¯¹åº”å¡«å†™åˆ°å®¢æˆ·ç«¯çš„é…ç½®ç•Œé¢ä¸­å³å¯ã€‚
* å¦‚æœæŸäº›å­—æ®µåœ¨å®¢æˆ·ç«¯ä¸­æ‰¾ä¸åˆ°ï¼Œè¯·ä¿æŒä¸ºç©ºã€‚



### Hysteria2


**å®˜æ–¹æ–‡æ¡£**: [Hysteria2](https://v2.hysteria.network/zh/docs/getting-started/Installation/)

---

#### 1. å®‰è£…

åœ¨æœåŠ¡å™¨ç»ˆç«¯æ‰§è¡Œï¼š

```bash
bash <(curl -fsSL https://get.hy2.sh/)
```

---

#### 2. ç”Ÿæˆè‡ªç­¾åè¯ä¹¦

```bash
openssl req -x509 -nodes -newkey ec:<(openssl ecparam -name prime256v1) -keyout /etc/hysteria/server.key -out /etc/hysteria/server.crt -subj "/CN=bing.com" -days 36500 && sudo chown hysteria /etc/hysteria/server.key && sudo chown hysteria /etc/hysteria/server.crt
```

---

#### 3. é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶è·¯å¾„ï¼š`/etc/hysteria/config.yaml`

> ä¿®æ”¹æ–¹æ³•å‚è€ƒ Xray é…ç½®æ–‡ä»¶çš„ä¿®æ”¹æ­¥éª¤ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹ï¼Œé€šå¸¸åªéœ€è¦ä¿®æ”¹å¯†ç å³å¯ã€‚

```yaml
listen: :443

tls:
  cert: /etc/hysteria/server.crt
  key: /etc/hysteria/server.key

auth:
  type: password
  password: Se7RAuFZ8Lzg  # è®¾ç½®å¯†ç 

masquerade:
  type: proxy
  proxy:
    url: https://bing.com
    rewriteHost: true
```

---

#### 4. å¯åŠ¨ä¸ç®¡ç†

```bash
# è®¾ç½®å¼€æœºè‡ªå¯å¹¶ç«‹å³å¯åŠ¨
systemctl enable --now hysteria-server.service

# é‡å¯æœåŠ¡ï¼ˆä¿®æ”¹é…ç½®åæ‰§è¡Œï¼‰
systemctl restart hysteria-server.service

# æŸ¥è¯¢æœåŠ¡çŠ¶æ€
systemctl status hysteria-server.service
```

---

#### 5. å®¢æˆ·ç«¯è¿æ¥è¯´æ˜

éœ€è¦å‡†å¤‡ä»¥ä¸‹ä¿¡æ¯ï¼š

* **åè®®**: hysteria2
* **IP**: ä½ çš„æœåŠ¡å™¨ IP
* **ç«¯å£**: 443
* **å¯†ç **: ä¸é…ç½®æ–‡ä»¶ä¸­ä¸€è‡´
* **TLS**: æ‰“å¼€â€œå…è®¸ä¸å®‰å…¨â€ï¼ŒSNI å¡« `bing.com`

> è¡¥å……è¯´æ˜ï¼š
> Hysteria2 é…ç½®ç›¸å¯¹ç®€å•ã€‚å¯¹äºä¸­å›½ç”¨æˆ·ï¼Œæœ‰äº›è¿è¥å•†å¯èƒ½é˜»æ–­ UDP è¿æ¥ã€‚å®˜æ–¹æä¾› **ç«¯å£è·³è·ƒ** æ–¹æ¡ˆï¼Œå¯å‚è€ƒï¼š[Port Hopping](https://v2.hysteria.network/zh/docs/advanced/Port-Hopping/)
>

---

ä¸ªäººæ°´å¹³æœ‰é™ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚æœ‰å¥½çš„å¼€æºåè®®ï¼Œåç»­æˆ‘ä¼šç»§ç»­æ›´æ–°å’Œä¼˜åŒ–ã€‚
